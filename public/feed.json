{
  "version": "https://jsonfeed.org/version/1",
  "title": "Sachin",
  "home_page_url": "http://localhost:1313/",
  "feed_url": "http://localhost:1313/feed.json",
  "description": "Developer notes, pro hacks, and tips from the trenches. Minimal fluff, maximum signal.",
  "favicon": "http://localhost:1313//assets/favicon.ico",
  "expired": false,
  "author": {
    "name": "Sachin",
    "url": "http://localhost:1313/"
  },
  "items": [
    
    

    
    {
      "id": "cb63a0cae4bccb19c3af8636c03ca7d19a20f0b9",
      "title": "JSLT tips: the for-loop and filtering arrays",
      "summary": "",
      "content_text": "JSLT is a JSON transformation language. One pattern I use a lot: build an array with let, then use a for-loop with an if to only include items that pass a condition. No separate filter step—you output and filter in one go.\nSimple example Input:\n{ \u0026#34;items\u0026#34;: [ { \u0026#34;name\u0026#34;: \u0026#34;a\u0026#34;, \u0026#34;count\u0026#34;: 2 }, { \u0026#34;name\u0026#34;: \u0026#34;b\u0026#34;, \u0026#34;count\u0026#34;: 0 }, { \u0026#34;name\u0026#34;: \u0026#34;c\u0026#34;, \u0026#34;count\u0026#34;: 1 } ] } JSLT: only include objects where count is truthy:\n{ \u0026#34;active\u0026#34;: [ for (.items) . if (.count) ] } Output:\n{ \u0026#34;active\u0026#34;: [ { \u0026#34;name\u0026#34;: \u0026#34;a\u0026#34;, \u0026#34;count\u0026#34;: 2 }, { \u0026#34;name\u0026#34;: \u0026#34;c\u0026#34;, \u0026#34;count\u0026#34;: 1 } ] } Pattern: [ for (\u0026lt;array\u0026gt;) . if (\u0026lt;condition\u0026gt;) ] — loop over the array, output the current element (.) only when the condition holds. Result is a new array with no nulls or extra logic.\nGeneralizing: build then filter in the output When you have a list of name/value pairs (or similar) and only want to keep entries with a value, build the array in a let, then filter in the for-loop.\nInput:\n{ \u0026#34;id\u0026#34;: \u0026#34;123\u0026#34;, \u0026#34;label\u0026#34;: \u0026#34;Widget Co\u0026#34;, \u0026#34;code\u0026#34;: \u0026#34;W-001\u0026#34;, \u0026#34;description\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;serviceRef\u0026#34;: \u0026#34;svc-1\u0026#34;, \u0026#34;resourceKey\u0026#34;: \u0026#34;res-1\u0026#34;, \u0026#34;tagValue\u0026#34;: \u0026#34;100\u0026#34; } Template:\nlet attributes = [ { \u0026#34;name\u0026#34;: \u0026#34;ID\u0026#34;, \u0026#34;value\u0026#34;: .id }, { \u0026#34;name\u0026#34;: \u0026#34;LABEL\u0026#34;, \u0026#34;value\u0026#34;: .label }, { \u0026#34;name\u0026#34;: \u0026#34;CODE\u0026#34;, \u0026#34;value\u0026#34;: .code }, { \u0026#34;name\u0026#34;: \u0026#34;DESCRIPTION\u0026#34;, \u0026#34;value\u0026#34;: .description } ] let tags = [ { \u0026#34;name\u0026#34;: .tagValue, \u0026#34;type\u0026#34;: \u0026#34;TAG\u0026#34;, \u0026#34;resourceType\u0026#34;: \u0026#34;Tag\u0026#34; } ] { \u0026#34;resourceType\u0026#34;: \u0026#34;Resource\u0026#34;, \u0026#34;name\u0026#34;: .resourceKey, \u0026#34;attributes\u0026#34;: [ for ($attributes) . if (.value) ], \u0026#34;tags\u0026#34;: [ for ($tags) . if (.name) ] } attributes and tags are built once with let. [ for ($attributes) . if (.value) ] keeps only objects where value is non-null/non-empty. [ for ($tags) . if (.name) ] does the same for name. You define the shape of each entry in one place and drop empty ones in the for-loop, without a separate filter step.\nMore for-loop patterns 1. Filter by multiple conditions\nSame [ for (...) . if (...) ] shape; the condition can combine fields:\n[ for ($items) . if (.type == \u0026#34;foo\u0026#34; and .kind == \u0026#34;bar\u0026#34;) ] Use and / or as needed. Result: only elements that match all (or any) of the criteria.\n2. Filter over a nested array\nRun the for-loop over a path that’s already narrowed down (e.g. first match, then its children):\nlet matches = [ for ($topologies) . if (.type == \u0026#34;foo\u0026#34;) ] let links = $matches[0].links [ for ($links) . if (.source == \u0026#34;bar\u0026#34;) ] First line gets the list of matching parents; then you take one (e.g. [0]) and loop over .links (or any nested array) and filter that. Handy when you “get the first X, then work with its Y.”\n3. Nested for: “items in A that match something in B”\nBind a value from the outer element and use it in the inner loop (e.g. find all items in one list whose id appears in another):\nflatten([ for ($listA) let id = .id [ for ($listB) . if ($id == .id) ] ]) Outer loop: for each element in $listA, set id = .id. Inner loop: over $listB, keep only elements where .id equals that id. You get an array of arrays (one per outer item), so flatten(...) turns it into a single list of matches. Same idea works for “shared” or “intersection” logic.\n4. Dedupe by key\nIf the previous step (or any step) leaves duplicates by a key (e.g. tid), use an object as a key-value map and then take values:\nlet withDuplicates = [ ... ] [ for ({ for ($withDuplicates) .tid : . }) .value ] Duplicate .tid overwrites in the object, so you end up with one entry per key. See JSLT: removing duplicates by key for more.\n5. Guard the result\nWhen the result might be null or you must return an array:\nif ($result) $result else [] Use this at the end of a function so callers always get an array when there are no matches.\nTry it: JSLT demo playground — paste your input and template and run.\n",
      "content_html": "\u003cp\u003e\u003ca href=\"https://github.com/schibsted/jslt\"\u003eJSLT\u003c/a\u003e is a JSON transformation language. One pattern I use a lot: build an array with \u003ccode\u003elet\u003c/code\u003e, then use a \u003cstrong\u003efor-loop with an \u003ccode\u003eif\u003c/code\u003e\u003c/strong\u003e to only include items that pass a condition. No separate filter step—you output and filter in one go.\u003c/p\u003e\n\u003chr\u003e\n\u003ch3 id=\"simple-example\"\u003eSimple example\u003c/h3\u003e\n\u003cp\u003e\u003cstrong\u003eInput:\u003c/strong\u003e\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-json\" data-lang=\"json\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#111\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#f92672\"\u003e\u0026#34;items\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e:\u003c/span\u003e \u003cspan style=\"color:#111\"\u003e[\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#111\"\u003e{\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e\u0026#34;name\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e:\u003c/span\u003e \u003cspan style=\"color:#d88200\"\u003e\u0026#34;a\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e,\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e\u0026#34;count\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e:\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e2\u003c/span\u003e \u003cspan style=\"color:#111\"\u003e},\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#111\"\u003e{\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e\u0026#34;name\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e:\u003c/span\u003e \u003cspan style=\"color:#d88200\"\u003e\u0026#34;b\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e,\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e\u0026#34;count\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e:\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e \u003cspan style=\"color:#111\"\u003e},\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#111\"\u003e{\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e\u0026#34;name\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e:\u003c/span\u003e \u003cspan style=\"color:#d88200\"\u003e\u0026#34;c\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e,\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e\u0026#34;count\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e:\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e \u003cspan style=\"color:#111\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#111\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#111\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003cstrong\u003eJSLT:\u003c/strong\u003e only include objects where \u003ccode\u003ecount\u003c/code\u003e is truthy:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-json\" data-lang=\"json\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#111\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#f92672\"\u003e\u0026#34;active\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e:\u003c/span\u003e \u003cspan style=\"color:#111\"\u003e[\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003efor\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e(.items)\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e.\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003eif\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e(.count)\u003c/span\u003e \u003cspan style=\"color:#111\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#111\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003cstrong\u003eOutput:\u003c/strong\u003e\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-json\" data-lang=\"json\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#111\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#f92672\"\u003e\u0026#34;active\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e:\u003c/span\u003e \u003cspan style=\"color:#111\"\u003e[\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#111\"\u003e{\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e\u0026#34;name\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e:\u003c/span\u003e \u003cspan style=\"color:#d88200\"\u003e\u0026#34;a\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e,\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e\u0026#34;count\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e:\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e2\u003c/span\u003e \u003cspan style=\"color:#111\"\u003e},\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#111\"\u003e{\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e\u0026#34;name\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e:\u003c/span\u003e \u003cspan style=\"color:#d88200\"\u003e\u0026#34;c\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e,\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e\u0026#34;count\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e:\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e \u003cspan style=\"color:#111\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#111\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#111\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003ePattern: \u003ccode\u003e[ for (\u0026lt;array\u0026gt;) . if (\u0026lt;condition\u0026gt;) ]\u003c/code\u003e — loop over the array, output the current element (\u003ccode\u003e.\u003c/code\u003e) only when the condition holds. Result is a new array with no nulls or extra logic.\u003c/p\u003e\n\u003chr\u003e\n\u003ch3 id=\"generalizing-build-then-filter-in-the-output\"\u003eGeneralizing: build then filter in the output\u003c/h3\u003e\n\u003cp\u003eWhen you have a list of name/value pairs (or similar) and only want to keep entries with a value, build the array in a \u003ccode\u003elet\u003c/code\u003e, then filter in the for-loop.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eInput:\u003c/strong\u003e\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-json\" data-lang=\"json\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#111\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#f92672\"\u003e\u0026#34;id\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e:\u003c/span\u003e \u003cspan style=\"color:#d88200\"\u003e\u0026#34;123\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#f92672\"\u003e\u0026#34;label\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e:\u003c/span\u003e \u003cspan style=\"color:#d88200\"\u003e\u0026#34;Widget Co\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#f92672\"\u003e\u0026#34;code\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e:\u003c/span\u003e \u003cspan style=\"color:#d88200\"\u003e\u0026#34;W-001\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#f92672\"\u003e\u0026#34;description\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e:\u003c/span\u003e \u003cspan style=\"color:#d88200\"\u003e\u0026#34;\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#f92672\"\u003e\u0026#34;serviceRef\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e:\u003c/span\u003e \u003cspan style=\"color:#d88200\"\u003e\u0026#34;svc-1\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#f92672\"\u003e\u0026#34;resourceKey\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e:\u003c/span\u003e \u003cspan style=\"color:#d88200\"\u003e\u0026#34;res-1\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#f92672\"\u003e\u0026#34;tagValue\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e:\u003c/span\u003e \u003cspan style=\"color:#d88200\"\u003e\u0026#34;100\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#111\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003cstrong\u003eTemplate:\u003c/strong\u003e\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-json\" data-lang=\"json\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003elet\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003eattributes\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#111\"\u003e[\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#111\"\u003e{\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e\u0026#34;name\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e:\u003c/span\u003e \u003cspan style=\"color:#d88200\"\u003e\u0026#34;ID\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e,\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e\u0026#34;value\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e:\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e.id\u003c/span\u003e \u003cspan style=\"color:#111\"\u003e},\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#111\"\u003e{\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e\u0026#34;name\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e:\u003c/span\u003e \u003cspan style=\"color:#d88200\"\u003e\u0026#34;LABEL\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e,\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e\u0026#34;value\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e:\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e.label\u003c/span\u003e \u003cspan style=\"color:#111\"\u003e},\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#111\"\u003e{\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e\u0026#34;name\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e:\u003c/span\u003e \u003cspan style=\"color:#d88200\"\u003e\u0026#34;CODE\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e,\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e\u0026#34;value\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e:\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e.code\u003c/span\u003e \u003cspan style=\"color:#111\"\u003e},\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#111\"\u003e{\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e\u0026#34;name\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e:\u003c/span\u003e \u003cspan style=\"color:#d88200\"\u003e\u0026#34;DESCRIPTION\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e,\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e\u0026#34;value\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e:\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e.description\u003c/span\u003e \u003cspan style=\"color:#111\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#111\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003elet\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003etags\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#111\"\u003e[\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#111\"\u003e{\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e\u0026#34;name\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e:\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e.tagValue\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e,\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e\u0026#34;type\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e:\u003c/span\u003e \u003cspan style=\"color:#d88200\"\u003e\u0026#34;TAG\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e,\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e\u0026#34;resourceType\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e:\u003c/span\u003e \u003cspan style=\"color:#d88200\"\u003e\u0026#34;Tag\u0026#34;\u003c/span\u003e \u003cspan style=\"color:#111\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#111\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#111\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#f92672\"\u003e\u0026#34;resourceType\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e:\u003c/span\u003e \u003cspan style=\"color:#d88200\"\u003e\u0026#34;Resource\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#f92672\"\u003e\u0026#34;name\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e:\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e.resourceKey\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#f92672\"\u003e\u0026#34;attributes\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e:\u003c/span\u003e \u003cspan style=\"color:#111\"\u003e[\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003efor\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e($attributes)\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e.\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003eif\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e(.value)\u003c/span\u003e \u003cspan style=\"color:#111\"\u003e],\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#f92672\"\u003e\u0026#34;tags\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e:\u003c/span\u003e \u003cspan style=\"color:#111\"\u003e[\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003efor\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e($tags)\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e.\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003eif\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e(.name)\u003c/span\u003e \u003cspan style=\"color:#111\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#111\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003e\u003ccode\u003eattributes\u003c/code\u003e\u003c/strong\u003e and \u003cstrong\u003e\u003ccode\u003etags\u003c/code\u003e\u003c/strong\u003e are built once with \u003ccode\u003elet\u003c/code\u003e.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e\u003ccode\u003e[ for ($attributes) . if (.value) ]\u003c/code\u003e\u003c/strong\u003e keeps only objects where \u003ccode\u003evalue\u003c/code\u003e is non-null/non-empty.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e\u003ccode\u003e[ for ($tags) . if (.name) ]\u003c/code\u003e\u003c/strong\u003e does the same for \u003ccode\u003ename\u003c/code\u003e.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eYou define the shape of each entry in one place and drop empty ones in the for-loop, without a separate filter step.\u003c/p\u003e\n\u003chr\u003e\n\u003ch3 id=\"more-for-loop-patterns\"\u003eMore for-loop patterns\u003c/h3\u003e\n\u003cp\u003e\u003cstrong\u003e1. Filter by multiple conditions\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eSame \u003ccode\u003e[ for (...) . if (...) ]\u003c/code\u003e shape; the condition can combine fields:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-json\" data-lang=\"json\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#111\"\u003e[\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003efor\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e($items)\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e.\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003eif\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e(.type\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e==\u003c/span\u003e \u003cspan style=\"color:#d88200\"\u003e\u0026#34;foo\u0026#34;\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003eand\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e.kind\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e==\u003c/span\u003e \u003cspan style=\"color:#d88200\"\u003e\u0026#34;bar\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e)\u003c/span\u003e \u003cspan style=\"color:#111\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eUse \u003ccode\u003eand\u003c/code\u003e / \u003ccode\u003eor\u003c/code\u003e as needed. Result: only elements that match all (or any) of the criteria.\u003c/p\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cstrong\u003e2. Filter over a nested array\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eRun the for-loop over a path that’s already narrowed down (e.g. first match, then its children):\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-json\" data-lang=\"json\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003elet\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003ematches\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#111\"\u003e[\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003efor\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e($topologies)\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e.\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003eif\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e(.type\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e==\u003c/span\u003e \u003cspan style=\"color:#d88200\"\u003e\u0026#34;foo\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e)\u003c/span\u003e \u003cspan style=\"color:#111\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003elet\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003elinks\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e$matches\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e]\u003c/span\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e.links\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#111\"\u003e[\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003efor\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e($links)\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e.\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003eif\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e(.source\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e==\u003c/span\u003e \u003cspan style=\"color:#d88200\"\u003e\u0026#34;bar\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e)\u003c/span\u003e \u003cspan style=\"color:#111\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eFirst line gets the list of matching parents; then you take one (e.g. \u003ccode\u003e[0]\u003c/code\u003e) and loop over \u003ccode\u003e.links\u003c/code\u003e (or any nested array) and filter that. Handy when you “get the first X, then work with its Y.”\u003c/p\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cstrong\u003e3. Nested for: “items in A that match something in B”\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eBind a value from the outer element and use it in the inner loop (e.g. find all items in one list whose \u003ccode\u003eid\u003c/code\u003e appears in another):\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-json\" data-lang=\"json\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003eflatten(\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e[\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003efor\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e($listA)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003elet\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003eid\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e.id\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#111\"\u003e[\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003efor\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e($listB)\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e.\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003eif\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e($id\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e==\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e.id)\u003c/span\u003e \u003cspan style=\"color:#111\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#111\"\u003e]\u003c/span\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eOuter loop: for each element in \u003ccode\u003e$listA\u003c/code\u003e, set \u003ccode\u003eid = .id\u003c/code\u003e. Inner loop: over \u003ccode\u003e$listB\u003c/code\u003e, keep only elements where \u003ccode\u003e.id\u003c/code\u003e equals that \u003ccode\u003eid\u003c/code\u003e. You get an array of arrays (one per outer item), so \u003ccode\u003eflatten(...)\u003c/code\u003e turns it into a single list of matches. Same idea works for “shared” or “intersection” logic.\u003c/p\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cstrong\u003e4. Dedupe by key\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eIf the previous step (or any step) leaves duplicates by a key (e.g. \u003ccode\u003etid\u003c/code\u003e), use an object as a key-value map and then take values:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-json\" data-lang=\"json\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003elet\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003ewithDuplicates\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#111\"\u003e[\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e...\u003c/span\u003e \u003cspan style=\"color:#111\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#111\"\u003e[\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003efor\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e{\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003efor\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e($withDuplicates)\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e.tid\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e:\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e.\u003c/span\u003e \u003cspan style=\"color:#111\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e)\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e.value\u003c/span\u003e \u003cspan style=\"color:#111\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eDuplicate \u003ccode\u003e.tid\u003c/code\u003e overwrites in the object, so you end up with one entry per key. See \u003ca href=\"/pages/posts/jslt-removing-duplicates/\"\u003eJSLT: removing duplicates by key\u003c/a\u003e for more.\u003c/p\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cstrong\u003e5. Guard the result\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eWhen the result might be null or you must return an array:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-json\" data-lang=\"json\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003eif\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e($result)\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e$result\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003eelse\u003c/span\u003e \u003cspan style=\"color:#111\"\u003e[]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eUse this at the end of a function so callers always get an array when there are no matches.\u003c/p\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cstrong\u003eTry it:\u003c/strong\u003e \u003ca href=\"https://www.garshol.priv.no/jslt-demo\"\u003eJSLT demo playground\u003c/a\u003e — paste your input and template and run.\u003c/p\u003e\n",
      "url": "http://localhost:1313/posts/jslt-for-loop-tips/",
      "date_published": "12026-12-09T20:1212:00+00:00",
      "date_modified": "12026-12-09T20:1212:00+00:00",
      "author": {
        "name": "Sachin",
        "url": "http://localhost:1313/"
      }
    },
    
    {
      "id": "9fd230217d74da00896772979c787c7eebf7a28d",
      "title": "JSLT: removing duplicates by key",
      "summary": "",
      "content_text": "When you end up with an array that has duplicate entries by some key (e.g. id, tid), you can dedupe in JSLT by turning the array into an object keyed by that field, then turning the object’s values back into an array. Duplicate keys overwrite, so you keep one entry per key.\nPattern Object from array: { for ($array) .keyField : . }\nBuilds an object: key = .keyField, value = the whole element. Same key appears more than once → later value wins → unique keys.\nArray from object: [ for ($object) .value ]\nIterating over an object gives key/value; take .value and you get the original elements back, now unique by that key.\nTogether:\nlet withDuplicates = [ { \u0026#34;id\u0026#34;: \u0026#34;a\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;Alpha\u0026#34; }, { \u0026#34;id\u0026#34;: \u0026#34;b\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;Beta\u0026#34; }, { \u0026#34;id\u0026#34;: \u0026#34;a\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;Alpha again\u0026#34; } ] let byId = { for ($withDuplicates) .id : . } [ for ($byId) .value ] Result: two objects (one per distinct id), not three. The second \u0026quot;a\u0026quot; overwrote the first in byId.\nIn a function Same idea in a reusable helper:\ndef dedupe-by-key(array, keyField) let obj = { for ($array) .[$keyField] : . } [ for ($obj) .value ] Use it like dedupe-by-key($myArray, \u0026quot;tid\u0026quot;) (or whatever your key field is). If JSLT doesn’t support dynamic field access, inline the key:\ndef dedupe-by-tid(array) let obj = { for ($array) .tid : . } if ($obj) [ for ($obj) .value ] else [] Then dedupe-by-tid($sharedDevicesWithDuplicates) gives you devices unique by tid.\nWhere this fits Typical flow:\nBuild an array that might have duplicates (e.g. from nested loops, flattened links, or merging two lists by a key). Dedupe with the object trick: let unique = [ for ({ for ($withDuplicates) .tid : . }) .value ]. Use $unique (or guard with if ($unique) $unique else [] if you need an empty array when there’s nothing). Try it: JSLT demo playground.\n",
      "content_html": "\u003cp\u003eWhen you end up with an array that has duplicate entries by some key (e.g. \u003ccode\u003eid\u003c/code\u003e, \u003ccode\u003etid\u003c/code\u003e), you can dedupe in JSLT by turning the array into an \u003cstrong\u003eobject keyed by that field\u003c/strong\u003e, then turning the object’s values back into an array. Duplicate keys overwrite, so you keep one entry per key.\u003c/p\u003e\n\u003chr\u003e\n\u003ch3 id=\"pattern\"\u003ePattern\u003c/h3\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eObject from array:\u003c/strong\u003e \u003ccode\u003e{ for ($array) .keyField : . }\u003c/code\u003e\u003cbr\u003e\nBuilds an object: key = \u003ccode\u003e.keyField\u003c/code\u003e, value = the whole element. Same key appears more than once → later value wins → unique keys.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eArray from object:\u003c/strong\u003e \u003ccode\u003e[ for ($object) .value ]\u003c/code\u003e\u003cbr\u003e\nIterating over an object gives key/value; take \u003ccode\u003e.value\u003c/code\u003e and you get the original elements back, now unique by that key.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003cstrong\u003eTogether:\u003c/strong\u003e\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-json\" data-lang=\"json\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003elet\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003ewithDuplicates\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#111\"\u003e[\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#111\"\u003e{\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e\u0026#34;id\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e:\u003c/span\u003e \u003cspan style=\"color:#d88200\"\u003e\u0026#34;a\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e,\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e\u0026#34;name\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e:\u003c/span\u003e \u003cspan style=\"color:#d88200\"\u003e\u0026#34;Alpha\u0026#34;\u003c/span\u003e \u003cspan style=\"color:#111\"\u003e},\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#111\"\u003e{\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e\u0026#34;id\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e:\u003c/span\u003e \u003cspan style=\"color:#d88200\"\u003e\u0026#34;b\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e,\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e\u0026#34;name\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e:\u003c/span\u003e \u003cspan style=\"color:#d88200\"\u003e\u0026#34;Beta\u0026#34;\u003c/span\u003e \u003cspan style=\"color:#111\"\u003e},\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#111\"\u003e{\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e\u0026#34;id\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e:\u003c/span\u003e \u003cspan style=\"color:#d88200\"\u003e\u0026#34;a\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e,\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e\u0026#34;name\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e:\u003c/span\u003e \u003cspan style=\"color:#d88200\"\u003e\u0026#34;Alpha again\u0026#34;\u003c/span\u003e \u003cspan style=\"color:#111\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#111\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003elet\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003ebyId\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#111\"\u003e{\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003efor\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e($withDuplicates)\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e.id\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e:\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e.\u003c/span\u003e \u003cspan style=\"color:#111\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#111\"\u003e[\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003efor\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e($byId)\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e.value\u003c/span\u003e \u003cspan style=\"color:#111\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003cstrong\u003eResult:\u003c/strong\u003e two objects (one per distinct \u003ccode\u003eid\u003c/code\u003e), not three. The second \u003ccode\u003e\u0026quot;a\u0026quot;\u003c/code\u003e overwrote the first in \u003ccode\u003ebyId\u003c/code\u003e.\u003c/p\u003e\n\u003chr\u003e\n\u003ch3 id=\"in-a-function\"\u003eIn a function\u003c/h3\u003e\n\u003cp\u003eSame idea in a reusable helper:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-json\" data-lang=\"json\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003edef\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003ededupe-by-key(array,\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003ekeyField)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003elet\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003eobj\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#111\"\u003e{\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003efor\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e($array)\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e.[$keyField]\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e:\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e.\u003c/span\u003e \u003cspan style=\"color:#111\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#111\"\u003e[\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003efor\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e($obj)\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e.value\u003c/span\u003e \u003cspan style=\"color:#111\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eUse it like \u003ccode\u003ededupe-by-key($myArray, \u0026quot;tid\u0026quot;)\u003c/code\u003e (or whatever your key field is). If JSLT doesn’t support dynamic field access, inline the key:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-json\" data-lang=\"json\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003edef\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003ededupe-by-tid(array)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003elet\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003eobj\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#111\"\u003e{\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003efor\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e($array)\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e.tid\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e:\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e.\u003c/span\u003e \u003cspan style=\"color:#111\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003eif\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e($obj)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#111\"\u003e[\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003efor\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e($obj)\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e.value\u003c/span\u003e \u003cspan style=\"color:#111\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003eelse\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#111\"\u003e[]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eThen \u003ccode\u003ededupe-by-tid($sharedDevicesWithDuplicates)\u003c/code\u003e gives you devices unique by \u003ccode\u003etid\u003c/code\u003e.\u003c/p\u003e\n\u003chr\u003e\n\u003ch3 id=\"where-this-fits\"\u003eWhere this fits\u003c/h3\u003e\n\u003cp\u003eTypical flow:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eBuild an array that might have duplicates (e.g. from nested loops, flattened links, or merging two lists by a key).\u003c/li\u003e\n\u003cli\u003eDedupe with the object trick: \u003ccode\u003elet unique = [ for ({ for ($withDuplicates) .tid : . }) .value ]\u003c/code\u003e.\u003c/li\u003e\n\u003cli\u003eUse \u003ccode\u003e$unique\u003c/code\u003e (or guard with \u003ccode\u003eif ($unique) $unique else []\u003c/code\u003e if you need an empty array when there’s nothing).\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003cstrong\u003eTry it:\u003c/strong\u003e \u003ca href=\"https://www.garshol.priv.no/jslt-demo\"\u003eJSLT demo playground\u003c/a\u003e.\u003c/p\u003e\n",
      "url": "http://localhost:1313/posts/jslt-removing-duplicates/",
      "date_published": "5026-05-09T20:55:00+00:00",
      "date_modified": "5026-05-09T20:55:00+00:00",
      "author": {
        "name": "Sachin",
        "url": "http://localhost:1313/"
      }
    },
    
    {
      "id": "8386fa53bead4cb93c1dd73cc6437fd4943ff2b6",
      "title": "Switching between multiple Java versions (macOS)",
      "summary": "",
      "content_text": "On macOS, java_home gives you the path for a given JDK version. Wire that into env vars and aliases and you can switch JVMs from the shell without touching system settings.\nDrop this into your ~/.zshrc or ~/.bash_profile:\n# Java export JAVA8=`/usr/libexec/java_home -v 1.8` export JAVA11=`/usr/libexec/java_home -v 11` export JAVA17=`/usr/libexec/java_home -v 17` export JAVA21=`/usr/libexec/java_home -v 21` # default version of java export JAVA_HOME=$JAVA21 # aliases for dynamic JVM switching alias java8=\u0026#34;export JAVA_HOME=\\$JAVA8\u0026#34; alias java11=\u0026#34;export JAVA_HOME=\\$JAVA11\u0026#34; alias java17=\u0026#34;export JAVA_HOME=\\$JAVA17\u0026#34; alias java21=\u0026#34;export JAVA_HOME=\\$JAVA21\u0026#34; Usage: Open a new terminal (or source ~/.zshrc). Default is Java 21. Run java8, java11, java17, or java21 to switch for that session. java -version and any tool that reads JAVA_HOME will use the active one.\nOnly include the versions you actually have installed—java_home will error if the JDK isn’t there.\n",
      "content_html": "\u003cp\u003eOn macOS, \u003ccode\u003ejava_home\u003c/code\u003e gives you the path for a given JDK version. Wire that into env vars and aliases and you can switch JVMs from the shell without touching system settings.\u003c/p\u003e\n\u003cp\u003eDrop this into your \u003ccode\u003e~/.zshrc\u003c/code\u003e or \u003ccode\u003e~/.bash_profile\u003c/code\u003e:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# Java\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#111\"\u003eexport\u003c/span\u003e \u003cspan style=\"color:#111\"\u003eJAVA8\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#d88200\"\u003e`\u003c/span\u003e/usr/libexec/java_home -v 1.8\u003cspan style=\"color:#d88200\"\u003e`\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#111\"\u003eexport\u003c/span\u003e \u003cspan style=\"color:#111\"\u003eJAVA11\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#d88200\"\u003e`\u003c/span\u003e/usr/libexec/java_home -v 11\u003cspan style=\"color:#d88200\"\u003e`\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#111\"\u003eexport\u003c/span\u003e \u003cspan style=\"color:#111\"\u003eJAVA17\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#d88200\"\u003e`\u003c/span\u003e/usr/libexec/java_home -v 17\u003cspan style=\"color:#d88200\"\u003e`\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#111\"\u003eexport\u003c/span\u003e \u003cspan style=\"color:#111\"\u003eJAVA21\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#d88200\"\u003e`\u003c/span\u003e/usr/libexec/java_home -v 21\u003cspan style=\"color:#d88200\"\u003e`\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# default version of java\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#111\"\u003eexport\u003c/span\u003e \u003cspan style=\"color:#111\"\u003eJAVA_HOME\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e$JAVA21\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# aliases for dynamic JVM switching\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#111\"\u003ealias\u003c/span\u003e \u003cspan style=\"color:#111\"\u003ejava8\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#d88200\"\u003e\u0026#34;export JAVA_HOME=\\$JAVA8\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#111\"\u003ealias\u003c/span\u003e \u003cspan style=\"color:#111\"\u003ejava11\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#d88200\"\u003e\u0026#34;export JAVA_HOME=\\$JAVA11\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#111\"\u003ealias\u003c/span\u003e \u003cspan style=\"color:#111\"\u003ejava17\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#d88200\"\u003e\u0026#34;export JAVA_HOME=\\$JAVA17\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#111\"\u003ealias\u003c/span\u003e \u003cspan style=\"color:#111\"\u003ejava21\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#d88200\"\u003e\u0026#34;export JAVA_HOME=\\$JAVA21\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003cstrong\u003eUsage:\u003c/strong\u003e Open a new terminal (or \u003ccode\u003esource ~/.zshrc\u003c/code\u003e). Default is Java 21. Run \u003ccode\u003ejava8\u003c/code\u003e, \u003ccode\u003ejava11\u003c/code\u003e, \u003ccode\u003ejava17\u003c/code\u003e, or \u003ccode\u003ejava21\u003c/code\u003e to switch for that session. \u003ccode\u003ejava -version\u003c/code\u003e and any tool that reads \u003ccode\u003eJAVA_HOME\u003c/code\u003e will use the active one.\u003c/p\u003e\n\u003cp\u003eOnly include the versions you actually have installed—\u003ccode\u003ejava_home\u003c/code\u003e will error if the JDK isn’t there.\u003c/p\u003e\n",
      "url": "http://localhost:1313/posts/switching-java-versions/",
      "date_published": "22016-22-09T10:2222:00+00:00",
      "date_modified": "22016-22-09T10:2222:00+00:00",
      "author": {
        "name": "Sachin",
        "url": "http://localhost:1313/"
      }
    },
    
    {
      "id": "fb8f594b5c0debca075dd94f71121ea82fed56f3",
      "title": "Installing CA certs into the JVM truststore",
      "summary": "",
      "content_text": "When you\u0026rsquo;re hitting an internal API over HTTPS and the JVM doesn\u0026rsquo;t trust the corp CA, you get the usual PKIX path building failed or unable to find valid certification path errors. Fix: add the server\u0026rsquo;s cert (or the CA that signed it) into Java\u0026rsquo;s cacerts.\nOne-liner (replace paths and alias as needed):\nsudo \u0026#34;$JAVA_HOME/bin/keytool\u0026#34; -importcert -alias \u0026#34;api.corp.intranet\u0026#34; -file \u0026#34;/Users/user/Downloads/api.corp.intranet.cer\u0026#34; -keystore \u0026#34;$JAVA_HOME/lib/security/cacerts\u0026#34; -storepass changeit -noprompt What to change:\n-alias — Any label you\u0026rsquo;ll recognize (e.g. the hostname). Must be unique in the keystore. -file — Path to the .cer (or .crt) you got from the server or your security team. -keystore — Default truststore is $JAVA_HOME/lib/security/cacerts. Leave as-is unless you use a custom one. -storepass — Default password for the stock cacerts is changeit. Yes, really. Why sudo? The default cacerts is under $JAVA_HOME/lib/security/, which is usually root-owned. One-time add, then your JVM trusts that cert.\nAfter this, restart the app (or JVM) so it reloads the truststore. No more PKIX errors for that host.\n",
      "content_html": "\u003cp\u003eWhen you\u0026rsquo;re hitting an internal API over HTTPS and the JVM doesn\u0026rsquo;t trust the corp CA, you get the usual \u003ccode\u003ePKIX path building failed\u003c/code\u003e or \u003ccode\u003eunable to find valid certification path\u003c/code\u003e errors. Fix: add the server\u0026rsquo;s cert (or the CA that signed it) into Java\u0026rsquo;s cacerts.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eOne-liner\u003c/strong\u003e (replace paths and alias as needed):\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esudo \u003cspan style=\"color:#d88200\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e$JAVA_HOME\u003c/span\u003e\u003cspan style=\"color:#d88200\"\u003e/bin/keytool\u0026#34;\u003c/span\u003e -importcert -alias \u003cspan style=\"color:#d88200\"\u003e\u0026#34;api.corp.intranet\u0026#34;\u003c/span\u003e -file \u003cspan style=\"color:#d88200\"\u003e\u0026#34;/Users/user/Downloads/api.corp.intranet.cer\u0026#34;\u003c/span\u003e -keystore \u003cspan style=\"color:#d88200\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#111\"\u003e$JAVA_HOME\u003c/span\u003e\u003cspan style=\"color:#d88200\"\u003e/lib/security/cacerts\u0026#34;\u003c/span\u003e -storepass changeit -noprompt\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003cstrong\u003eWhat to change:\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003e\u003ccode\u003e-alias\u003c/code\u003e\u003c/strong\u003e — Any label you\u0026rsquo;ll recognize (e.g. the hostname). Must be unique in the keystore.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e\u003ccode\u003e-file\u003c/code\u003e\u003c/strong\u003e — Path to the \u003ccode\u003e.cer\u003c/code\u003e (or \u003ccode\u003e.crt\u003c/code\u003e) you got from the server or your security team.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e\u003ccode\u003e-keystore\u003c/code\u003e\u003c/strong\u003e — Default truststore is \u003ccode\u003e$JAVA_HOME/lib/security/cacerts\u003c/code\u003e. Leave as-is unless you use a custom one.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e\u003ccode\u003e-storepass\u003c/code\u003e\u003c/strong\u003e — Default password for the stock cacerts is \u003ccode\u003echangeit\u003c/code\u003e. Yes, really.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cstrong\u003eWhy \u003ccode\u003esudo\u003c/code\u003e?\u003c/strong\u003e The default cacerts is under \u003ccode\u003e$JAVA_HOME/lib/security/\u003c/code\u003e, which is usually root-owned. One-time add, then your JVM trusts that cert.\u003c/p\u003e\n\u003cp\u003eAfter this, restart the app (or JVM) so it reloads the truststore. No more PKIX errors for that host.\u003c/p\u003e\n",
      "url": "http://localhost:1313/posts/installing-cacerts/",
      "date_published": "15016-15-09T10:1515:00+00:00",
      "date_modified": "15016-15-09T10:1515:00+00:00",
      "author": {
        "name": "Sachin",
        "url": "http://localhost:1313/"
      }
    }
    
  ]
}